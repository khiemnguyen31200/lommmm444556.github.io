<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Job</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="./style.css">
</head>

<body>
    <div class="container-fluid">
        <div class="container">
            <div class="hero">
                <div class="logo">
                    <h1>Bảng công việc</h1>
                    <p>Tìm kiếm công việc phù hợp với bạn</p>
                    <h2 id="jobs-listed"><span>300</span> công việc có trong danh sách</h2>
                </div>
                <div class="menu">
                    <button id="show-all">Tất cả công việc</button>
                    <input id="search" type="text" placeholder="Tìm kiếm ..." autocomplete="off">
                </div>
            </div>
        </div>
    </div>

    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <h2 class="text-center mt-5">Danh sách công việc hiện có</h2>
            </div>
        </div>
        <div class="row jobs">
            <div class="col-md-3 job-card">
                <div class="job-card-inner">
                    <h3>Software Engineer</h3>
                    <h4>$50</h4>
                    <ul>
                        <li>Node.js</li>
                        <li>Git</li>
                        <li>AWS</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Yêu cầu: Sử dụng Javascript để thực hiện các công việc sau

        // 1. Thêm 3 job bổ sung vào phần 'job' của trang bằng cách sao chép 'job-card' ban đầu.let 
        let jobs = document.querySelector('.jobs')
        let jobcard = document.querySelector('.job-card')
        let job1 = jobcard.cloneNode(true)
        let job2 = jobcard.cloneNode(true)
        let job3 = jobcard.cloneNode(true)

        jobs.appendChild(job1)
        jobs.appendChild(job2)
        jobs.appendChild(job3)



        // 2. Cập nhật tiêu đề của các job mới thành : JavaScript Developer, Java Developer, Python Developer

        let job1heading = job1.querySelector('h3')
        job1heading.innerText = 'JavaScript Developer'

        let job2heading = job2.querySelector('h3')
        job2heading.innerText = 'Java Developer'

        let job3heading = job3.querySelector('h3')
        job3heading.innerText = 'Python Developer'

        // 3. Cập nhật 3 thành tổng số công việc hiện có trong trang
        let jobtotal = document.querySelector('#jobs-listed span')
        let jobcards = document.querySelectorAll('.job-card')

        jobtotal.innerText = jobcards.length

        // 4. Nhập tên công việc vào ô tìm kiếm để lọc các công việc (lọc theo tên công việc). Những công việc được tìm thấy sẽ hiển thị ra, còn lại sẽ bị ẩn đi
        let input = document.querySelector('.menu input')
        input.addEventListener('keyup', function () {
            let value = input.value.toLowerCase()
            for (let i = 0; i < jobcards.length; i++) {
                if (jobcards[i].querySelector('h3').innerText.toLowerCase().indexOf(value) != -1) {
                    jobcards[i].style.display = 'block'
                } else {
                    jobcards[i].style.display = 'none'
                }
            }

        })

        // 5. Bấm vào Nút "All jobs" để reset ô tìm kiếm và hiển thị ra tất cả các công việc
        let button = document.querySelector('#show-all')
        button.addEventListener('click',function(){
            input.value=''
            for (let i = 0; i < jobcards.length; i++) {
                jobcards[i].style.display = 'block'
            }
        })
    
    </script>
</body>

</html>